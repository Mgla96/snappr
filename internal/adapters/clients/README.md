<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# clients

```go
import "github.com/Mgla96/snappr/internal/adapters/clients"
```

package clients provides the clients for the external services used by the application.

## Index

- [Constants](<#constants>)
- [func IsDoNotEditFile\(data \[\]byte\) bool](<#IsDoNotEditFile>)
- [func ModelToContextWindow\(model ModelType\) int](<#ModelToContextWindow>)
- [func Shuffle\(slice interface\{\}\)](<#Shuffle>)
- [type APIType](<#APIType>)
- [type CodeFilter](<#CodeFilter>)
- [type GithubClient](<#GithubClient>)
  - [func NewGithubClient\(token string, logger zerolog.Logger\) \*GithubClient](<#NewGithubClient>)
  - [func \(gc \*GithubClient\) AddCommentToPullRequestReview\(ctx context.Context, owner, repo string, prNumber int, commentBody, commitID, path string, startLine, line int\) \(\*github.PullRequestComment, error\)](<#GithubClient.AddCommentToPullRequestReview>)
  - [func \(gc \*GithubClient\) AddCommitToBranch\(ctx context.Context, owner, repo, branch, filePath, commitMessage string, fileContent \[\]byte\) error](<#GithubClient.AddCommitToBranch>)
  - [func \(gc \*GithubClient\) CreateBranch\(ctx context.Context, owner, repo, newBranch, baseBranch string\) error](<#GithubClient.CreateBranch>)
  - [func \(gc \*GithubClient\) CreatePullRequest\(ctx context.Context, owner, repo, title, head, base, body string\) \(\*github.PullRequest, error\)](<#GithubClient.CreatePullRequest>)
  - [func \(gc \*GithubClient\) GetCommitCode\(context context.Context, owner, repo, commitSHA string, codeFilter CodeFilter\) \(map\[string\]string, error\)](<#GithubClient.GetCommitCode>)
  - [func \(gc \*GithubClient\) GetLatestCommitFromBranch\(ctx context.Context, owner, repo, branch string\) \(string, error\)](<#GithubClient.GetLatestCommitFromBranch>)
  - [func \(gc \*GithubClient\) GetPRCode\(ctx context.Context, owner, repo string, prNumber int, opts \*github.ListOptions, codeFilter CodeFilter\) \(map\[string\]string, error\)](<#GithubClient.GetPRCode>)
  - [func \(gc \*GithubClient\) GetPRDiff\(ctx context.Context, owner, repo string, prNumber int\) \(string, error\)](<#GithubClient.GetPRDiff>)
  - [func \(gc \*GithubClient\) GetPRPatch\(ctx context.Context, owner, repo string, prNumber int\) \(string, error\)](<#GithubClient.GetPRPatch>)
  - [func \(gc \*GithubClient\) ListPullRequests\(ctx context.Context, owner, repo string, opts \*github.PullRequestListOptions\) \(\[\]\*github.PullRequest, error\)](<#GithubClient.ListPullRequests>)
  - [func \(gc \*GithubClient\) MergePullRequest\(ctx context.Context, owner, repo string, prNumber int, commitMessage string\) \(\*github.PullRequestMergeResult, error\)](<#GithubClient.MergePullRequest>)
- [type ModelType](<#ModelType>)
- [type OllamaClient](<#OllamaClient>)
  - [func NewOllamaClient\(cfg openai.ClientConfig\) \*OllamaClient](<#NewOllamaClient>)
  - [func \(c \*OllamaClient\) CreateChatCompletion\(ctx context.Context, request openai.ChatCompletionRequest\) \(response openai.ChatCompletionResponse, err error\)](<#OllamaClient.CreateChatCompletion>)
- [type OpenAIClient](<#OpenAIClient>)
  - [func NewCustomOpenAIClient\(authToken, baseURL string, apiType APIType\) \*OpenAIClient](<#NewCustomOpenAIClient>)
  - [func NewOpenAIClient\(apiKey string\) \*OpenAIClient](<#NewOpenAIClient>)
  - [func \(oc \*OpenAIClient\) GenerateChatCompletion\(ctx context.Context, messages \[\]openai.ChatCompletionMessage, model ModelType\) \(string, error\)](<#OpenAIClient.GenerateChatCompletion>)


## Constants

<a name="GPT3_5Turbo0125"></a>

```go
const (
    // GPT3_5Turbo0125 is the GPT-3.5-turbo-0125 model.
    GPT3_5Turbo0125            ModelType = "gpt-3.5-turbo-0125"
    GPT4_turbo                 ModelType = "gpt-4-turbo"
    ErrNoChatCompletionChoices           = errors.New("no chat completion choices returned")
    OLLAMAAPI                  APIType   = "ollama"
    OPENAIAPI                  APIType   = "openai"
)
```

<a name="IsDoNotEditFile"></a>
## func IsDoNotEditFile

```go
func IsDoNotEditFile(data []byte) bool
```

IsDoNotEditFile checks if the file has a DO NOT EDIT comment.

<a name="ModelToContextWindow"></a>
## func ModelToContextWindow

```go
func ModelToContextWindow(model ModelType) int
```

ModelToContextWindow returns the context window size for the given model.

<a name="Shuffle"></a>
## func Shuffle

```go
func Shuffle(slice interface{})
```

Shuffle shuffles a slice of any type

<a name="APIType"></a>
## type APIType



```go
type APIType string
```

<a name="CodeFilter"></a>
## type CodeFilter

CodeFilter is used to filter files based on a regex pattern.

```go
type CodeFilter struct {
    FileRegexPattern string
}
```

<a name="GithubClient"></a>
## type GithubClient



```go
type GithubClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewGithubClient"></a>
### func NewGithubClient

```go
func NewGithubClient(token string, logger zerolog.Logger) *GithubClient
```

NewGithubClient creates a new instance of the GithubClient.

<a name="GithubClient.AddCommentToPullRequestReview"></a>
### func \(\*GithubClient\) AddCommentToPullRequestReview

```go
func (gc *GithubClient) AddCommentToPullRequestReview(ctx context.Context, owner, repo string, prNumber int, commentBody, commitID, path string, startLine, line int) (*github.PullRequestComment, error)
```

AddCommentToPullRequestReview adds a comment to a pull request review.

Parameters:

- ctx: The context for the API request.
- owner: The owner of the repository.
- repo: The repository name.
- prNumber: The pull request number.
- commentBody: The content of the comment to be added.
- commitID: The SHA of the commit to comment on.
- path: The file path in the repository where the comment should be added.
- position: The position in the diff where the comment should be added.

Returns:

- The created PullRequestComment object.
- An error if any occurred during the API request.

<a name="GithubClient.AddCommitToBranch"></a>
### func \(\*GithubClient\) AddCommitToBranch

```go
func (gc *GithubClient) AddCommitToBranch(ctx context.Context, owner, repo, branch, filePath, commitMessage string, fileContent []byte) error
```

AddCommitToBranch adds a commit to the specified branch.

<a name="GithubClient.CreateBranch"></a>
### func \(\*GithubClient\) CreateBranch

```go
func (gc *GithubClient) CreateBranch(ctx context.Context, owner, repo, newBranch, baseBranch string) error
```

CreateBranch creates a new branch from the specified base branch.

<a name="GithubClient.CreatePullRequest"></a>
### func \(\*GithubClient\) CreatePullRequest

```go
func (gc *GithubClient) CreatePullRequest(ctx context.Context, owner, repo, title, head, base, body string) (*github.PullRequest, error)
```

CreatePullRequest creates a new pull request.

<a name="GithubClient.GetCommitCode"></a>
### func \(\*GithubClient\) GetCommitCode

```go
func (gc *GithubClient) GetCommitCode(context context.Context, owner, repo, commitSHA string, codeFilter CodeFilter) (map[string]string, error)
```

GetCommitCode gets the code from a commit.

<a name="GithubClient.GetLatestCommitFromBranch"></a>
### func \(\*GithubClient\) GetLatestCommitFromBranch

```go
func (gc *GithubClient) GetLatestCommitFromBranch(ctx context.Context, owner, repo, branch string) (string, error)
```

GetLatestCommitFromBranch gets the latest commit SHA from a branch.

<a name="GithubClient.GetPRCode"></a>
### func \(\*GithubClient\) GetPRCode

```go
func (gc *GithubClient) GetPRCode(ctx context.Context, owner, repo string, prNumber int, opts *github.ListOptions, codeFilter CodeFilter) (map[string]string, error)
```

GetPRCode gets the code from a pull request.

<a name="GithubClient.GetPRDiff"></a>
### func \(\*GithubClient\) GetPRDiff

```go
func (gc *GithubClient) GetPRDiff(ctx context.Context, owner, repo string, prNumber int) (string, error)
```



<a name="GithubClient.GetPRPatch"></a>
### func \(\*GithubClient\) GetPRPatch

```go
func (gc *GithubClient) GetPRPatch(ctx context.Context, owner, repo string, prNumber int) (string, error)
```



<a name="GithubClient.ListPullRequests"></a>
### func \(\*GithubClient\) ListPullRequests

```go
func (gc *GithubClient) ListPullRequests(ctx context.Context, owner, repo string, opts *github.PullRequestListOptions) ([]*github.PullRequest, error)
```

ListPullRequests lists all pull requests in a repository.

<a name="GithubClient.MergePullRequest"></a>
### func \(\*GithubClient\) MergePullRequest

```go
func (gc *GithubClient) MergePullRequest(ctx context.Context, owner, repo string, prNumber int, commitMessage string) (*github.PullRequestMergeResult, error)
```

MergePullRequest merges a pull request.

<a name="ModelType"></a>
## type ModelType



```go
type ModelType string
```

<a name="OllamaClient"></a>
## type OllamaClient



```go
type OllamaClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewOllamaClient"></a>
### func NewOllamaClient

```go
func NewOllamaClient(cfg openai.ClientConfig) *OllamaClient
```



<a name="OllamaClient.CreateChatCompletion"></a>
### func \(\*OllamaClient\) CreateChatCompletion

```go
func (c *OllamaClient) CreateChatCompletion(ctx context.Context, request openai.ChatCompletionRequest) (response openai.ChatCompletionResponse, err error)
```

```
curl http://localhost:11434/api/chat -d '{
	  "model": "llama3.2",
	  "messages": [
	    { "role": "user", "content": "why is the sky blue?" }
	  ]
	}'
```

<a name="OpenAIClient"></a>
## type OpenAIClient



```go
type OpenAIClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewCustomOpenAIClient"></a>
### func NewCustomOpenAIClient

```go
func NewCustomOpenAIClient(authToken, baseURL string, apiType APIType) *OpenAIClient
```



<a name="NewOpenAIClient"></a>
### func NewOpenAIClient

```go
func NewOpenAIClient(apiKey string) *OpenAIClient
```

NewOpenAIClient creates a new instance of the OpenAIClient.

<a name="OpenAIClient.GenerateChatCompletion"></a>
### func \(\*OpenAIClient\) GenerateChatCompletion

```go
func (oc *OpenAIClient) GenerateChatCompletion(ctx context.Context, messages []openai.ChatCompletionMessage, model ModelType) (string, error)
```

GenerateChatCompletion generates a chat completion based on the provided messages.

Parameters:

- ctx: The context for the API request.
- messages: The list of messages to use as input for the chat completion.

Returns:

- The generated chat completion.
- An error if any occurred during the API request.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
